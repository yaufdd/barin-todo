# プロジェクトのアーキテクチャ

## 採用したアーキテクチャ

本プロジェクトは、**クリーンアーキテクチャ**（Clean Architecture）の原則に基づき、以下のレイヤー構成で設計されています：

- **internal/models** — [SQLBoiler](https://github.com/volatiletech/sqlboiler) によって自動生成されたデータモデル層。型安全性とDBスキーマとの同期を保証します。
- **internal/repo** — リポジトリ層（データアクセス層）。ビジネスロジックとデータ保存の詳細を分離するためにRepositoryパターンを採用。テストにはsqlmockを利用。
- **internal/handler** — ハンドラー層。ビジネスロジックや外部インターフェース（gRPC/HTTPなど）とのやり取りを担当します。
- **gen/proto** — gRPC/Protobuf（およびConnect）による自動生成ファイル。サービスとクライアント間の契約（インターフェース）を保証します。
- **cmd/server** — サーバーアプリケーションのエントリーポイント。
- **cmd/client** — サーバーとやり取りするCLIクライアント。

## 採用理由

- **クリーンアーキテクチャ**は、ビジネスロジックのテスト容易性、依存関係の分離、プロジェクトの拡張性を高めます。
- **SQLBoiler**は、SQLの手書きを最小限に抑え、信頼性の高いコード生成のために選択しました。
- **gRPC/Protobuf**（およびConnect）は、サービスとクライアント間の厳密な契約を保証し、統合や拡張を容易にします。
- **Mockオブジェクト**（sqlmock）により、リポジトリ層のユニットテストを高速かつ独立して実施できます。

---

_このアプローチにより、プロジェクトのモジュール性、テスト容易性、保守性が向上します。_
